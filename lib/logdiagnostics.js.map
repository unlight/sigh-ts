{"version":3,"sources":["..\\src\\logdiagnostics.js"],"names":["logdiagnostics","diagnostics","forEach","message","flattenDiagnosticMessageText","d","messageText","file","getLineAndCharacterOfPosition","start","line","character","lineText","fileName","trim","category","warn"],"mappings":";;;;;kBAGwBA,c;;AAHxB;;;;AACA;;;;AAEe,SAASA,cAAT,CAAwBC,WAAxB,EAAqC;AAChDA,gBAAYC,OAAZ,CAAoB,aAAK;AACrB,YAAIC,UAAU,qBAAGC,4BAAH,CAAgCC,EAAEC,WAAlC,EAA+C,IAA/C,CAAd;AACA,YAAID,EAAEE,IAAN,EAAY;AAAA,wCACkBF,EAAEE,IAAF,CAAOC,6BAAP,CAAqCH,EAAEI,KAAvC,CADlB;;AAAA,gBACFC,IADE,yBACFA,IADE;AAAA,gBACIC,SADJ,yBACIA,SADJ;;AAER,gBAAIC,WAAcP,EAAEE,IAAF,CAAOM,QAArB,UAAiCH,OAAO,CAAxC,WAA6CC,YAAY,CAAzD,CAAJ;AACAR,sBAAaS,QAAb,SAAyBT,OAAzB;AACH;AACDA,kBAAUA,QAAQW,IAAR,EAAV;AACA,YAAIT,EAAEU,QAAF,KAAe,CAAf,IAAoBV,EAAEU,QAAF,KAAe,CAAvC,EAA0C;AACtC,0BAAIC,IAAJ,CAASb,OAAT;AACH,SAFD,MAEO;AACH,+BAAIA,OAAJ;AACH;AACJ,KAbD;AAcH","file":"src/logdiagnostics.js","sourceRoot":"src","sourcesContent":["import ts from \"typescript\";\nimport {log} from \"sigh-core\";\n\nexport default function logdiagnostics(diagnostics) {\n    diagnostics.forEach(d => {\n        var message = ts.flattenDiagnosticMessageText(d.messageText, \"\\n\");\n        if (d.file) {\n            var { line, character } = d.file.getLineAndCharacterOfPosition(d.start);\n            let lineText = `${d.file.fileName}:${line + 1}:${character + 1}`;\n            message = `${lineText} ${message}`;\n        }\n        message = message.trim();\n        if (d.category === 0 || d.category === 1) {\n            log.warn(message);\n        } else {\n            log(message);\n        }\n    });\n}"]}